package trace
import "/hu.bme.mit.omg.pssm/model/tests/common/interfaces.gcd"
statechart Trace [
	port _testControl_ : provides TestControl
	port testControl : requires TestControl
] {
	var inOutCycleVariable : boolean := false
	region MainRegion {
		initial Initial
		state _0
		state _1 {
			region InputRegion {
				initial InputInitialState
				state InputState
				choice Choice0
			}
		}
	}
	region OutputRegion {
		initial OutputInitialState
		state OutputState
		state FirstOutputState
	}
	region InOutCycleRegion {
		initial InOutCycleInitialState
		state InOutCycleState
	}
	transition from Initial to _0
	transition from _0 to _1 when cycle [inOutCycleVariable] / raise _testControl_.start;
	transition from InputInitialState to InputState
	transition from InputState to Choice0 when cycle [inOutCycleVariable]
	transition from Choice0 to InputState when testControl.start / raise _testControl_.start;
	transition from Choice0 to InputState [else]
	transition from OutputInitialState to FirstOutputState
	transition from InOutCycleInitialState to InOutCycleState
	transition from InOutCycleState to InOutCycleState when cycle / inOutCycleVariable :=
		!inOutCycleVariable;
}